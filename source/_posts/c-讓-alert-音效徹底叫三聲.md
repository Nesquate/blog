---
title: 讓 Alert 音效徹底叫三聲
tags:
  - C
  - Windows
categories:
  - - 程式撰寫
date: 2019-09-20 16:16:00
---

計算機概論實習課時遇到的問題。

教授出了一個題目，要讓電腦Alert三次的音效聲，這題目看起來很簡單。原本的程式碼大概如下：

```
(2023/03/30 整理更: 程式碼在部落格搬遷中不見了...)
```

但是電腦的運行速度真的是有夠快，這Alert三次很快就完成，所以實際上播出來的聲音就只有一次。

雖然助教在閱改的時候依然是算對，不過課堂上有不少人想要解決這個問題，不過後來都不試了。

我後來有查到一個方法，就給大家參考。

方法就是－**加入 sleep() 函數**。

加入 sleep () 函數之前要先引用標頭檔 windows.h (Windows) 或 unistd.h (Unix/Linux)。

加上後來學到的while迴圈，於是程式碼就變成下列這樣：

```
(2023/03/30 整理更: 程式碼在部落格搬遷中不見了...)
```

說明一下：

*   建立兩個整數變數，time代表次數，sleeptime代表延遲時間
    
*   建立while迴圈，讓他alert響三次
    
*   time < 4 代表 while 迴圈跑三次
    
*   sleep ( sleeptime ); - 指定延遲秒數
    
*   time = time + 1; - 原本的次數加一次
    

後來發現第三次的時候程式會延遲三秒才正式結束，為了解決這個問題，於是又對程式做了改寫：

程式碼意思就自己看了。

### 後記：windows.h 的未解之謎

一開始我是在實驗室的電腦使用 windows.h 的標頭檔來使用 sleep () 函數，發現可以正常運行。

於是後來就在自己的電腦上重現上述程式碼時就出現了幾個問題：

*   Visual Studio 2019 打了之後會發生 sleep () 沒定義的狀況，後來去查了一下要用「Sleep ()」且「1000 = 1 s」，這跟我的印象完全不一樣啊......
*   後來就把Dev C++裝上去並且測試一下使用 windows.h 的狀況，發現依舊是沒定義，再度問號
*   最後是用了 unistd.h 解決（沒想到Windows底下也可以用？）

後來想起來實驗室的電腦有裝Code::Blocks，難道是跟Complier與Windows的環境變數（PATH）有關係嗎？這我目前還沒有答案......。